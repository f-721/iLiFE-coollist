<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>むげんだいすき</title>
  <link rel="stylesheet" href="../css/kashi.css">
  <link rel="icon" href="../img/ilife_banner.jpg">
</head>
<body>
  <header>
    <a href="mugen.html" id="scrollTop">
      <img src="../img/ilife_logo.png" alt="Header Logo">
    </a>
    <select id="displayMode">
      <option value="color">色分けモード</option>
      <option value="heart">ハートモード</option>
    </select>
  </header>

  <main>
    <h1>むげんだいすき</h1>
    <div id="lyrics"></div>
 <div class="member-color-label">
    メンバーカラー：<br>
    赤 ❤️ 心花りり <br>
    黄 💛 福丸うさ <br>
    緑 💚 若葉のあ <br>
    ピンク 🩷 那蘭のどか <br>
    白 🤍 あいす <br>
    青 💙 空詩かれん <br>
    水 🩵 虹羽みに <br>
    紫 💜 純嶺みき <br>
    オレンジ 🧡 小熊まむ <br>
    </div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/oVzemFG7GsQ?si=CN3ZH9gusXn9lIPs" title="YouTube video player" 
frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    <button id="backButton">ホームに戻る</button>
  </main>

  <script>
    //歌詞内容
    const lyricsData = [
 
];
//テキストカラー
    const colorForLines = [
  
];
//テキストハート
    
   const heartForLines = [
 
];
    

    const lyricsContainer = document.getElementById('lyrics');
    const displayModeSelect = document.getElementById('displayMode');
function renderLyrics(mode) {
  lyricsContainer.innerHTML = "";
  let colorIndex = 0;
  lyricsData.forEach((line, index) => {
    const div = document.createElement('div');

    if ((line.startsWith(' (') || line.endsWith(') '))) {
    // コール
        div.className = 'call';
        div.textContent = line;
    } 
    else if (line.startsWith('[SEPARATOR]')) {
    // 区切り
        div.className = 'separator';
        div.textContent = line.replace('[SEPARATOR]', '').trim();
    }else if (mode === 'heart') {
    div.className = 'lyrics-line';
    div.style.color = 'black';

    const heartSymbol = heartForLines[index];

    if (heartSymbol && heartSymbol.trim() !== '') {
        // ハート指定あり：文字列を1本にまとめる
        div.textContent = `${heartSymbol} ${line}`;
    } else {
        // ハートなし：ただの文字
        div.textContent = line;
    }
    }
    else if (mode === 'color') {
    div.className = 'lyrics-line';
    div.style.color = colorForLines[index] || 'black';
    div.textContent = line;
    }

    lyricsContainer.appendChild(div);
  });
}

    displayModeSelect.addEventListener('change', (e) => {
      renderLyrics(e.target.value);
    });

    document.getElementById('backButton').addEventListener('click', () => {
  document.body.classList.add('fade-out');
  setTimeout(() => {
    window.location.href = '../index.html';
  }, 800);
});

window.addEventListener('DOMContentLoaded', () => {
  const savedColor = localStorage.getItem('bgColor');
  if (savedColor) {
    document.body.style.backgroundColor = savedColor;
  }
});

displayModeSelect.value = 'heart';

//初期がハート
renderLyrics('heart');
  </script>
</body>
</html>